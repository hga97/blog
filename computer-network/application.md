C/S P2P 混合结构 域名系统 层次化域名空间 域名服务器 域名解析   
www HTTP Cookie 电子邮件结构 （SMTP POP3 IMAP）  
socket编程  

### 计算机网络应用体系结构

 计算机网络应用是运行在计算机网络环境下的分布式软件系统。

#### 客户/服务器（C/S）结构网络应用

1、客户/服务器(C/S)结构的网络应用:最典型、最基本的网络应用。
网络应用通信的双方分为服务器程序和客户程序。

例如: www应用;文件传输FTP;电子邮件;

2、客户/服务器(C/S)结构的特征:  
1)通信只在客户和服务器之间进行，用户与用户之间不进行直接通信。  
2)主动发起通信的一方是客户程序，被动接受通信的一方是服务器。  
3)服务器程序先运行，做好接受通信的准备。


#### 纯P2P结构网络应用

1、P2P (Peer to Peer):通信双方没有传统意义上的客户服务器之分， 地位对等，通信双方都具备客户与服务器的特征。

2、文件分发、文件共享、视频流服务等应用中，P2P表现出优越的性能。


#### 混合结构网络应用
1、混合结构网络应用:C/S应用和P2P应用相结合。  

2、既有中心服务器的存在，也有对等端间的直接通信。

?>
1、计算机网络从体系结构角度可以分为C/S结构、 P2P结构和__混合结构____。  
2、从体系结构角度来看，在计算机网络应用中，( B )的 网络应用是最典型的、最基本的网络应用。  
A.纯P2P结构
B.客户/服务器结构
C.混合结构 
D.拓扑结构


### 网络应用通信基本原理

1、网络应用的基本通信过程: 运行在不同主机上的**应用进程间**以**C/S**方式进行通信。

2、C/S方式: 服务器端运行的是服务器进程，被动等待客户请求服务;客户端运行的是客户进程，主动发起通信，请求服务器进程提供服务。

3、应用进程之间遵循应用层协议交换应用层报文。还需要通过层间接口(应用编程接口API)将报文传递给相邻的传输层。

4、典型的网络应用编程接口是套接字(Socket)。

5、对于一个传输层协议，需要为与其接口的每个套接字分配一个编号，标识该套接字，
该编号称为端口号。例如web服务器的端口号是80。通过IP地址以及套接字所绑定的端口号标识应用进程。

6、Internet传输层只提供两类服务:   
面向连接的可靠字节流传输服务:TCP  
无连接的不可靠数据报传输服务:UDP

?>
1、在计算机网络应用中，无论哪种类型的网络应用，基本通信方式都是( C/S )通信。  
2、对于一个传输层协议，需要为与其接口的每个套接字分配一个编号，标识该套接字，
该编号称为端口号。例如web服务器的端口号是( 80 )。  
3、典型的网络应用编程接口是( D )  
A.端口号
B.TCP
C.UDP
D.套接字


### 域名系统(DNS)

#### 域名系统

域名解析: 将域名映射为IP地址。

域名解析的原理: 为了实现域名解析，域名系统会建立**分布式数据库**， **存储域名与IP地址的映射关系数据**。

主机域名：www.baidu.com  --解析--> ip地址：202.108.22.5

?>
1、能将域名映射为IP地址是( DNS )。  
2、为了实现域名解析，域名系统会建立分布式数据库， 存储域名与( IP地址 )的映射关系数据。


#### 层次化域名空间

1、域名的命名方式:层次树状结构命名方式

每个域名由不同级别的域名构成，各个层级域名之间用点分隔。

www.sina.com.cn/

www 三级域名  
sina 二级域名  
com 通用顶级域名  
cn 国家顶级域名  

2、顶级域名的分类

(1)国家顶级域名:cn，us，uk等。  
(2)通用顶级域名:com,org,gov,edu等。  
(3)基础结构域名:只有一个(arpa,反向域名解析)

?>
1、Internet中，顶级域名的分类不包括( A )   
A.国际顶级域名
B.基础结构域名
C.国家顶级域名
D.通用顶级域名  
2、 下列顶级域名中哪个不是国家顶级域名( D )  
A.us
B.uk
C.cn
D.gov  

#### 域名服务器

1、DNS服务器:以“区”为管理范围单位。

本地(默认)域名服务器:主机在网络地址配置时，都会配置的。用于保存被查询域名的信息。

根据其主要保存的域名信息以及在域名解析过程的作用，可以分为:  
根域名服务器  
顶级域名服务器  
权威域名服务器  
中间域名服务器  

根域名服务器: 最重要的服务器，全球有13个。 保存所有顶级域名服务器的域名和IP地址。

顶级域名服务器(TLD服务器): 负责管理在该顶级域名服务器注册的所有二级域名。

权威域名服务器: 保存该区中的所有主机的域名和IP地址的映射。

中间域名服务器:不是以上三种的域名服务器。

?>
1、任何一个拥有域名的主机，其域名与IP地址的映射关系等信息都存储在所在网络的( C )  
A.顶级域名服务器上
B.默认域名服务器上
C.权威域名服务器上
D.中间域名服务器上  
2、以下关于域名服务器说法错误的是( C )  
A.每个域名服务器存储部分域名信息 
B.一个服务器负责管辖的范围叫作区 
C.域名服务器的管辖范围以域为单位 
D.主机一般都会配置默认域名服务器  
3、分别用a~m共13个英文字母命名的域名服务器是( A )  
A.根域名服务器
B.顶级域名服务器
C.权威域名服务器
D.中间域名服务器


#### 域名解析过程

1、递归解析: 主机进行域名查询时，本地域名服务器没有被查询域名信息，则本地域名服务器代理主机查询根域名服务器。
根域名服务器代理本地域名服务器查询下一个域名服务，以此类推。直到得到被查询域名的IP地址，最后将解析结果发送给主机。

2、迭代解析: 主机进行域名查询时，本地域名服务器没有被查询域名信息，则先求助于根域名服务器。
根域名服务器只是将下一步要查询的服务器告知查询主机的本地域名服务器，本地域名服务器继续查询下一个域名服务器，直到查询到被查询的域名的IP地址。

总结:无论是递归解析还是迭代解析。只要本地域名服务器不能直接
响应解析结果，都需要从根域名服务器开始查询。

?>
1、在域名解析的查询过程中，只要本地域名服务器不能直接响应解析结果，则都需要从( 根 )域名服务器开始查询。  
2、在域名解析的查询过程中，不会代理客户的查询请求，而是将最终结果或者下一步要查询的域名服务器直接响应给查询客户的是( 迭代解析 )。

### 万维网应用

#### 万维网应用结构

1、万维网应用(World Wide Web应用): web应用。   
主要包括:浏览器、web服务器、超文本传输协议HTTP。   
浏览器:Web应用的客户软件、客户代理。   
Web服务器:服务器软件、存储管理供用户请求浏览的Web页面(Web文档)。   
超文本传输协议(HTTP):客户和服务器间的交互基于的协议。

web页面的对象:html文件、图片、文字、视频等。

2、统一资源定位符（URL）

URL地址:存放对象的主机域名(或IP地址)+对象的路径名。  
URL寻址方式确保万维网上的每一个web页面或者对象都有一个唯一的标识符。

www.abc.edu.cn/cs/index.html  
www.abc.edu.cn 主机名  
/cs/index.html  路径名  

?>
【填空题】1、作为WWW应用的客户端软件是( 浏览器 )  
2、每个URL地址主要包括存放对象的服务器主机域名 (或IP地址)和( 对象的路径名 )。  
3、在Web应用中，寻址一个Web页或Web对象需要通过一个( B )  
A:​访问协议
B:URL地址
C:域名解析
D:文件路径  

#### HTTP

1、HTTP概述

超文本传输协议(Hyper Text Transfer Protocol，HTTP ）  
Web应用的应用层协议，定义浏览器如何向Web服务器发送请求，以及Web服务器如何进行响应。  
版本: HTTP/1.0和HTTP/1.1

2、HTTP链接

1)HTTP基于传输层的TCP传输报文。浏览器在向服务器发送请求之前，首先建立TCP连接，然后才发送HTTP请求报文，接收HTTP响应报文。

2)RTT:作为一个时间单位来使用  
例如:HTTP客户进程向服务器请求建立连接:从客户发送连接请求，到客户收到服务器连接确认，用时一个往返时间(Round Trip Time ，RTT)。

3)使用TCP策略不同  
非持久连接的HTTP(TCP用一次就断开):  非持久连接(一条连接)和并行连接(多条连接)  
持久连接的HTTP(TCP不断开): 非流水方式持久连接和流水方式持久连接

以请求浏览一个引用3个JPEG小图像的Web页面为例。  
非持久连接: 客户与服务器建立TCP连接后，通过该连接发送HTTP请求报文，接收HTTP响应报文，然后断开TCP连接。（8个RTT）  
HTTP/1.0

并行连接:建立多条并行TCP连接，并行发送HTTP请求和并行接收HTTP响应。然后断开TCP连接。（4个RTT）

非流水方式持久连接(非管道方式持久连接):建立TCP连接，发送请求和接收响应后，不断开TCP连接，继续请求。（5个RTT）

流水方式持久连接(管道方式持久连接):建立TCP连接，发送请求和接收响应后，不断开TCP连接，继续并行请求3个图片。（3个RTT）
HTTP/1.1 

3、HTTP报文

HTTP报文：请求报文和响应报文。   
请求报文：浏览器（客户端）发送给Web服务器   
响应报文：Web服务器发送给浏览器

请求报文  
起始行：请求行<方法> <url> <协议版本>  
首部行  
空白行  
报文主体  

http典型的请求方法  
GET: 请求读取由URL所标识的信息，是最常见的  
HEAD: 请求读取由URL所标识的信息首部  
POST: 给服务器添加信息  
OPTION: 请求一些选项信息  
PUT: 在指明的URL下存储一个文档  

状态码用于服务器向客户端通告响应情况  
响应报文  
起始行：状态行：<协议版本><状态码><短语>  
首部行：  
空白行  
报文主体  

HTTP状态码：3位十进制书，利用第一位十进制数字区分5类状态码  
1xx: 信息提示；通告信息，可能还需要进一步交互；  
2xx: 成功；成功完成客户请求的操作，并进行响应；  
3xx: 重定向；表示资源已移走，需要向新URL发请求；  
4xx: 客户端错误；由于客户端请求错误，无法成功响应；  
5xx: 服务器错误；由于服务器错误，无法成功响应；  

状态码 短语 含义   
100 Continue 已成功收到了请求的初始部分，请客户 端继续   
200 OK 成功，所请求信息在响应报文中   
301 Moved Permanently 重定向   
400 Bad Request 客户端请求错误   
401 Unauthorized 未授权，需要输入用户名和密码   
404 Not Found 客户端请求的对象，在服务器上不存在   
451 Unsupported Media Type 不支持的媒体类型   
505 HTTP Version Not Supported 请求使用的HTTP版本，服务器不支持


#### Cookie

1、HTTP服务器不保存客户的任何信息，被称为无状态协议。   
每次登录论坛，都要重新输入用户名和密码。购物网站的购物车无法识别该次购物是否是同一位顾客的行为。  

引入Cookie机制，用于用户跟踪。 

2、小型文本文件（Cookie）：网站为了辨别用户身份、进行会话跟踪 而储存在用户本地终端上的数据  

3、Cookie技术主要包括4部分内容：   
1）HTTP响应报文中的Cookie头行：用户的Cookie ID，用户偏好等。   
2）用户浏览器在本地存储、维护和管理的Cookie文件。  
3）HTTP请求报文中的Cookie头行：用户已访问过的网站再次访问时， 浏览器会检索本地Cookie文件。  
4）网站在后台数据库中存储、维护Cookie信息：分配用户ID、每个ID 用户在本网站的访问特征等。

4、Cookie工作原理

5、Cookie分类
1）保存在硬盘中的Cookie称为永久Cookie，关闭浏览器不影响Cookie 的有效周期。  
2）保存在内存中的Cookie称为会话Cookie，关闭浏览器Cookie消失。

6、Cookie技术最常见的用途：  
1）网站可以利用Cookie的ID来准确统计网站的实际访问人数、新访问 者和重复访问者的人数对比、访问者的访问频率等数据。  
2）网站可以利用Cookie限制某些特定用户的访问。  
3）网站可以存储用户访问过程中的操作习惯和偏好。  
4）记录用户登录网站使用的用户名、密码等信息。  
5）电子商务网站利用Cookie可以实现“购物车”功能。